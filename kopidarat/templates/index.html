{% load static %}
<style>
  @import url('https://fonts.googleapis.com/css2?family=Sora:wght@800&display=swap');
  body {
    color: black;
    text-align: center;
    background-color: #FF8415;
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    align-content: center;
    align-items: center;
  }

  h1 {
    font-family: 'Sora';
    font-size: 70px;
    margin: 50px;
  }

  h2 {
    font-family: 'futura';
    color: black;
  }

  a {
    margin-bottom: 10px;
  }

  option {
    width: 100%;
  }
</style>

<html>
  <head>
    <title> Welcome to KopiDarat! </title>
  </head>
  <body>
    {% if message %}
    <div>{{ message }}</div>
      {% endif %}
      <h1>Hello {{full_name}}!</h1>  
      <h2> Available Activities </h2>
      <form action="{% url 'index' %}" method="post">
        {% csrf_token %}
        <label for="category_id" class="control-label requiredField">Categories (multi-select with ctrl)</label> 
        <div class="controls"><select name="categories" id="categories" multiple size="10">
          {% for category in categories %}
          <option value="{{category.0}}" >{{category.0}}</option>
          {% endfor %} 
          </select> </div>
        <button type="submit">Apply Filter</button>
        <a href="{% url 'index' %}">Clear Selections</a>
      </form>
    </div>

    <a href='create_activity'> New Activity </a>
    <a href='review'> New Review </a>
    <a href='report'> New Report </a>
    <a href='user_activity'> Your Activities </a>
    <a href='logout'> Logout </a>
    <table>
      <thead>
        <th> Activity ID</th>
        <th> Activity Name </th>
        <th> Inviter </th>
        <th> Category </th>
        <th> Start Date Time </th>
        <th> Venue </th>
        <th> Capacity </th>
        <th> Join </th>
      </thead>
      {% for activity in records %}
      <tr>
        <td>{{ activity.0 }}</td>
        <td>{{ activity.3 }}</td>
        <td>{{ activity.1 }}</td>
        <td>{{ activity.2 }}</td>
        <td>{{ activity.4 }}</td>
        <td>{{ activity.5 }}</td>
        <td>{{ activity.6 }}</td>>
        <td><a class='button' href="{% url 'join' activity.0 %}" class="text-decoration-none">Join</a> </td>
      </tr>
      {% endfor %}
  </body>
</html>
